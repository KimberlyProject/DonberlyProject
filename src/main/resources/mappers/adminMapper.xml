<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
	PUBLIC "-//mybatis.org//DTD Config 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.ezen.admin.mapper.adminMapper">

	<!-- <resultMap id="articlesResult" type="com.ezen.board.dto.ArticleVO"> -->

	
	<resultMap id="saleArticlesResult" type="saleArticleVO">
		<result property="rnum"				column="recNum"/>
		<result property="level"			column="lvl"/>
		<result property="articleNO"		column="articleNO"/>
		<result property="userId"			column="userId"/>
		<result property="write_date"		column="write_date"/>
		<result property="title"			column="title"/>
		<result property="content"			column="content"/>
		<result property="p_code"			column="p_code"/>
		<result property="purpose"			column="purpose"/>
		<result property="view"				column="view"/>
		<result property="thumbnail"		column="thumbnail"/>
		<result property="price"			column="price"/>
	</resultMap>
	
	<resultMap id="oneononeResult" type="ccenterDTO">
		<result property="articleNo"		column="articleno"/>
		<result property="userId"			column="userid"/>
		<result property="email"			column="email"/>
		<result property="writeDate"		column="writedate"/>
		<result property="title"			column="title"/>
		<result property="content"			column="content"/>

	</resultMap>
	
	<resultMap id="reportResult" type="reportDTO">
		<result property="articleNo"		column="articleno"/>
		<result property="reporter"			column="reporter"/>
		<result property="reportedUser"		column="reportedUser"/>
		<result property="writeDate"		column="writedate"/>
		<result property="reason"			column="reason"/>
		<result property="content"			column="content"/>

	</resultMap>	
		
	
	<!-- 1:1 문의하기 목록 출력 -->
	<select id="listOneOnOne" resultMap="oneononeResult">
		
		SELECT	*
		FROM		ask
		ORDER BY 	articleNo desc
	</select>
	
	<!-- 신고하기 목록 출력 -->
	<select id="listReportAnswer" resultMap="reportResult">
		
		SELECT	*
		FROM		report
		ORDER BY 	articleNo desc
	</select>
	
	
	
	
	<select id="selectMember" resultType="com.ezen.member.dto.MemberDTO">
		SELECT	* 
		FROM	members
	</select>
	
	<select id="detail" parameterType="String" resultType="com.ezen.member.dto.MemberDTO">
		SELECT	* 
		FROM	members
		WHERE	userId = #{userId}
	</select>
	
	<update id="update" parameterType="com.ezen.member.dto.MemberDTO">
		UPDATE	members
		SET		pw			= #{pw},
				repw		= #{repw},
				name		= #{name},
				nickname	= #{nickname},
				tel			= #{tel},
				email		= #{email},
				address		= #{address}
		WHERE	userId		= #{userId}
	</update>
	
	<delete id="delete" parameterType="com.ezen.member.dto.MemberDTO">
		DELETE FROM members WHERE userId = #{userId}
	</delete>
	
	<insert id="Asuspension" parameterType="String">
		INSERT INTO accountStatus VALUES (#{userId}, 'N1', SYSDATE+7)
	</insert>
		
	<insert id="Psuspension" parameterType="String">
		INSERT INTO accountStatus VALUES (#{userId}, 'N2', SYSDATE)
	</insert>
	
	
	
	
</mapper>


